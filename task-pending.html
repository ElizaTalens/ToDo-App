<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Task Pending</title>
  <link rel="stylesheet" href="task-pending.css"/>
</head>
<body>
  <div class="container">
    <div class="app-container">

      <!-- Header -->
      <div class="header">
        <button class="back-btn" id="backBtn" aria-label="Kembali">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15,18 9,12 15,6"></polyline>
          </svg>
        </button>
        <h1>Task Pending</h1>
        <div class="placeholder" aria-hidden="true"></div>
      </div>

      <!-- Date Navigation -->
      <div class="date-nav">
        <button class="nav-btn" id="prevDate" aria-label="Tanggal sebelumnya">‹</button>
        <span class="current-date" id="currentDate">—</span>
        <button class="nav-btn" id="nextDate" aria-label="Tanggal berikutnya">›</button>
      </div>

      <!-- Calendar Week View (dirender via JS) -->
      <div class="calendar-week" aria-label="Kalender Mingguan"></div>

      <!-- Pending Tasks List (dirender via JS) -->
      <div class="task-list" aria-live="polite"></div>

    </div>
  </div>

  <script src="task-pending.js"></script>
  <script>
    // Back mengembalikan ke homepage sambil membawa tanggal aktif
    document.getElementById('backBtn')?.addEventListener('click', () => {
      const params = new URLSearchParams(location.search);
      const urlISO = params.get('date');
      const storedISO = localStorage.getItem('todoSelectedDate');
      const iso = urlISO || storedISO;
      const suffix = iso ? `?date=${iso}` : '';
      window.location.href = `homepage.html${suffix}`;
    });
  </script>
</body>
</html>
